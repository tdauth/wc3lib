#ifndef WC3LIB_W3G_PLATFORM_HPP
#define WC3LIB_W3G_PLATFORM_HPP

namespace wc3lib
{

namespace w3g
{

typedef char byte;
typedef uint32_t dword;
typedef uint16_t word;

struct Header
{
 	   byte identifier[28]; // Warcraft III recorded game\0x1A\0
 	   dword size;
	   dword fileSize;
	   dword fileVersion; // 0x00 for WarCraft III with patch <= 1.06, 0x01 for WarCraft III patch >= 1.07 and TFT replays

	   dword decompressedSize; // excluding header
	   dword dataBlocks; // number

};

struct SubHeader0
{
 	   word unknown;
	   word version;
	   word build;
	   word flags;
	   dword length; // replay length in msec
	   dword checksum;
};

struct SubHeader1
{
 	   dword identifier;
 	   dword version;
 	   dword build;
 	   word flags;
 	   dword length; // replay length in msec
 	   dword checksum;
};

struct DataBlockHeader
{
 	   word compressedSize;
 	   word size;
 	   dword unknown; // probably checksum
};

struct PlayerRecord
{
};

struct GameName
{
};

struct MapSettings
{
};

struct MapRecord
{
};

struct MapAndCreatorName
{
};

enum VersionInformationEntry
{
 	 GameVersion,
 	 ReplayVersion,
 	 War3Version,
 	 ReleaseData,
 	 MaxVersionInformationEntries
};

// this table should be used by class W3g to get some information about the replay

const char *versionInformation[][MaxVersionInformationEntries] =
{
	{ "1.00",               "1.00.4448",            "1.0. 0.4448",          "2002-07-03" },
	{ "1.01",               "1.01.4482",            "1.0. 1.4482",          "2002-07-05" },
	{ "1.01b",              "1.01.4482",            "1.0. 1.4483",          "2002-07-10" },
	{ "1.01c",              "1.01.4482",            "?",                    "2002-07-28" },
	{ "1.02",               "1.02.4531",            "1.0. 1.4531",          "2002-08-15" },
	{ "1.02a",              "1.02.4531",            "1.0. 1.4563",          "2002-09-06" },
	{ "1.03",               "1.03.4572",            "1.0. 3.4653",          "2002-10-09" },
	{ "1.04",               "1.04.4654",            "1.0. 3.4709",          "2002-11-04" },
	{ "1.04b",              "1.04.4654",            "1.0. 3.4709",          "2002-11-07" },
	{ "1.04c",              "1.04.4654",            "1.0. 4.4905",          "2003-01-30" },
	{ "1.05",               "1.05.4654",            "1.0. 5.4944",          "2003-01-30" },
	{ "1.06",               "1.06.4656",            "1.0. 6.5551",          "2003-06-03" },
	{ "1.07",               "1.07.6031",            "1.0. 7.5535",          "2003-07-01" },
	{ "1.10",               "1.10.6034",            "1.0.10.5610",          "2003-06-30" },
	{ "1.11",               "1.11.6035",            "1.0.11.5616",          "2003-07-15" },
	{ "1.12",               "1.12.6036",            "1.0.12.5636",          "2003-07-31" },
	{ "1.13",               "1.13.6037",            "1.0.13.5816",          "2003-12-16" },
	{ "1.13b",              "1.13.6037",            "1.0.13.5818",          "2003-12-19" },
	{ "1.14",               "1.14.6039",            "1.0.13.5840",          "2004-01-07" },
	{ "1.14b",              "1.14.6040",            "1.0.13.5840",          "2004-01-10" },
	{ "1.15",               "1.15.6043",            "1.0.15.5926",          "2004-05-10" },
	{ "1.16",               "1.16.6046",            "1.0.16.5926",          "2004-07-01" },
	{ "1.17",               "1.17.6050",            "1.0.16.5988",          "2004-09-20" }
};

const char *versionInformationBeta[][MaxVersionInformationEntries] =
{
	{ "301",                "version 0         |  6010  |  2003-03-04
	{ "302",                "version 0         |  6011  |  2003-03-11
	{ "303",                "version 0         |  6012  |  2003-03-14
	{ "304",                "version 0         |  6013  |  2003-03-19
	{ "304a",               "version 0         |  6013  |  2003-03-24
	{ "305",                "version 1(*)      |  6015  |  2003-03-28
	{ "305a",               "version 1(*)      |  6016  |  2003-03-30
	{ "306",                "version 1         |  6018  |  2003-04-08
	{ "307",                "version 1         |  6019  |  2003-04-11
	{ "308",                "version 1         |  6021  |  2003-04-16
	{ "309",                "version 1         |  6022  |  2003-04-17
	{ "310",                "version 1         |  6023  |  2003-04-24
	{ "311",                "version 1         |  6027  |  2003-04-30
	{ "312",                "version 1         |  6030  |  2003-05-13
	{ "313",                "version 1         |  6031  |  2003-05-19
	{ "314",                "version 1         |  6034  |  2003-05-30
	{ "314a",               "version 1         |  6034  |  2003-06-02
	{ "315",                "version 1         |  6034  |  2003-06-10
};

}

}

#endif
